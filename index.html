<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <style>
        :root {
            --mizuki-pink: #f4e8e9;
            --glass: rgba(255, 255, 255, 0.7);
            --accent: #8b7d7d;
        }

        * { -webkit-tap-highlight-color: transparent; box-sizing: border-box; user-select: none; }

        body {
            margin: 0; padding: env(safe-area-inset-top) 20px 40px;
            background: var(--mizuki-pink);
            /* æ¨¡æ‹Ÿç¬¬ä¸€å¼ å›¾çš„ç‚¹é˜µèƒŒæ™¯ */
            background-image: radial-gradient(#d1c2c2 1px, transparent 0);
            background-size: 20px 20px;
            height: 100vh; font-family: -apple-system, sans-serif;
            display: flex; flex-direction: column; align-items: center;
            color: var(--accent); overflow: hidden;
        }

        /* èƒŒæ™¯ç‚¹ç¼€ç‰©ï¼ˆæ¨¡æ‹Ÿå‚è€ƒå›¾ä¸­çš„äº‘æœµ/å°å…”å­ï¼‰ */
        .deco { position: absolute; opacity: 0.4; z-index: -1; pointer-events: none; font-size: 24px; }

        /* --- é¡¶éƒ¨çŠ¶æ€æ  --- */
        .status-bar {
            width: 100%; height: 44px; display: flex; justify-content: space-between; align-items: center;
            font-size: 12px; font-weight: bold; margin-bottom: 10px;
        }

        /* --- æ ¸å¿ƒä¸ªäººå¡ç‰‡ (å‚è€ƒå›¾2é£æ ¼) --- */
        .profile-card {
            width: 100%; background: var(--glass);
            backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-radius: 30px; padding: 25px 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.03);
            text-align: center; border: 1px solid rgba(255,255,255,0.8);
            position: relative;
        }
        
        /* è€ƒæ‹‰è£…é¥°ä½ */
        .profile-card::after {
            content: 'ğŸ¨'; position: absolute; top: -15px; right: 20px; font-size: 40px;
        }

        .avatar-box { width: 80px; height: 80px; margin: 0 auto 10px; cursor: pointer; }
        #avatar-img { width: 100%; height: 100%; border-radius: 50%; border: 3px solid #fff; object-fit: cover; }
        
        .name-title { font-size: 18px; font-weight: 900; margin-bottom: 4px; }
        .handle { font-size: 10px; opacity: 0.5; margin-bottom: 10px; display: block; }

        /* å¤šè¡Œç­¾åæ¡£ */
        .sig-input {
            width: 90%; background: transparent; border: none; outline: none;
            color: var(--accent); font-size: 11px; text-align: center;
            resize: none; overflow: hidden; line-height: 1.5; pointer-events: none;
        }

        /* --- ä¸­é—´ç»„ä»¶åŒº (é”™è½åˆ†å¸ƒ) --- */
        .widgets-grid {
            width: 100%; display: grid; grid-template-columns: 1.2fr 1fr; gap: 15px; margin-top: 30px;
        }

        .widget-item {
            background: var(--glass); border-radius: 20px; border: 1px solid rgba(255,255,255,0.8);
            display: flex; align-items: center; justify-content: center; padding: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.02); min-height: 80px;
        }

        .widget-textarea {
            width: 100%; background: transparent; border: none; outline: none;
            text-align: center; color: var(--accent); font-weight: bold;
            font-size: 14px; resize: none; overflow: hidden; pointer-events: none;
        }

        /* å³ä¾§ä¸¤ä¸ªå°ç›’å­ */
        .side-stack { display: flex; flex-direction: column; gap: 12px; }
        .mini-box { 
            height: 60px; background: var(--glass); border-radius: 18px;
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            font-size: 10px; font-weight: bold; border: 1px solid rgba(255,255,255,0.8);
        }
        .mini-box input { 
            width: 100%; border: none; background: transparent; text-align: center; 
            outline: none; color: var(--accent); font-size: 11px; pointer-events: none;
        }

        /* --- åº•éƒ¨å·¥å…·æ  (å‚è€ƒå›¾2åœ†æ¶¦æ„Ÿ) --- */
        .dock {
            margin-top: auto; width: 100%; height: 70px;
            background: rgba(255, 255, 255, 0.4); backdrop-filter: blur(20px);
            border-radius: 35px; display: flex; align-items: center; justify-content: space-around;
            padding: 0 10px; border: 1px solid rgba(255,255,255,0.5);
        }
        .dock-item { width: 50px; height: 50px; background: #fff; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: bold; }

        /* --- ç¼–è¾‘æ¨¡å¼æç¤º --- */
        body.edit-mode .sig-input, 
        body.edit-mode .widget-textarea, 
        body.edit-mode input {
            pointer-events: auto; background: rgba(255,255,255,0.5); border-radius: 4px;
        }

        /* è®¾ç½®æŒ‰é’®éšè—åœ¨è§’è½ */
        .setting-trigger { position: fixed; bottom: 15px; right: 20px; opacity: 0.3; font-size: 12px; }

        #settings {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(244, 232, 233, 0.95); z-index: 100; flex-direction: column; align-items: center; justify-content: center;
        }
        .btn { padding: 15px 40px; background: #fff; border-radius: 20px; border: none; font-weight: bold; color: var(--accent); margin: 10px; box-shadow: 0 5px 10px rgba(0,0,0,0.05); }
    </style>
</head>
<body onclick="vibrate()">

    <div class="deco" style="top:10%; left:5%;">â˜ï¸</div>
    <div class="deco" style="bottom:25%; right:10%;">âœ¨</div>

    <div class="status-bar">
        <div id="time">13:03</div>
        <div>5G ğŸ”‹</div>
    </div>

    <div class="profile-card">
        <div class="avatar-box" onclick="document.getElementById('file').click()">
            <img id="avatar-img" src="https://api.dicebear.com/7.x/adventurer/svg?seed=Mizuki">
        </div>
        <input type="file" id="file" hidden onchange="upAv(this)">
        
        <div class="name-title">ç‘å¸Œ</div>
        <span class="handle">@mizukiii</span>
        
        <div class="signature-box">
            <textarea class="sig-input" id="t-sig" rows="1" oninput="autoH(this)" onblur="save()">æ‹‰é’© æˆ‘ä»¬æ°¸è¿œä¸è¯´åˆ†å¼€çš„è¯</textarea>
        </div>
    </div>

    <div class="widgets-grid">
        <div class="widget-item">
            <textarea class="widget-textarea" id="t-main" rows="1" oninput="autoH(this)" onblur="save()">ä¿æŒçƒ­çˆ±...</textarea>
        </div>
        <div class="side-stack">
            <div class="mini-box">
                <span style="opacity:0.4; transform: scale(0.8);">APP</span>
                <input type="text" id="t-s1" value="ç›¸å†Œ" onblur="save()">
            </div>
            <div class="mini-box">
                <span style="opacity:0.4; transform: scale(0.8);">MODE</span>
                <input type="text" id="t-s2" value="ä¸“æ³¨" onblur="save()">
            </div>
        </div>
    </div>

    <div class="dock">
        <div class="dock-item" style="border-radius: 20px;">ğŸ </div>
        <div class="dock-item"><input type="text" id="t-dock" value="ç›¸æœº" style="width:100%; border:none; text-align:center; font-weight:bold; color:var(--accent); font-size:10px;" onblur="save()"></div>
        <div class="dock-item" onclick="toggleSet()">âš™ï¸</div>
    </div>

    <div class="setting-trigger" onclick="toggleSet()">Edit System</div>

    <div id="settings">
        <h3 style="opacity:0.6">ç³»ç»Ÿè®¾ç½®</h3>
        <button class="btn" onclick="toggleEdit()">åˆ‡æ¢ç¼–è¾‘æ¨¡å¼</button>
        <button class="btn" onclick="toggleSet()">å…³é—­</button>
    </div>

    <script>
        const fields = ['t-sig', 't-main', 't-s1', 't-s2', 't-dock'];

        window.onload = () => {
            fields.forEach(f => {
                const v = localStorage.getItem(f);
                if(v) {
                    const el = document.getElementById(f);
                    el.value = v;
                    if(el.tagName === 'TEXTAREA') autoH(el);
                }
            });
            const a = localStorage.getItem('m-av');
            if(a) document.getElementById('avatar-img').src = a;
            startTime();
        };

        function autoH(el) { el.style.height = 'auto'; el.style.height = el.scrollHeight + 'px'; }
        function save() { fields.forEach(f => localStorage.setItem(f, document.getElementById(f).value)); }
        function vibrate() { if(navigator.vibrate) navigator.vibrate(5); }
        function toggleSet() { const s = document.getElementById('settings'); s.style.display = s.style.display === 'flex' ? 'none' : 'flex'; }
        function toggleEdit() { document.body.classList.toggle('edit-mode'); toggleSet(); }
        
        function upAv(input) {
            const f = input.files[0];
            if(f){
                const r = new FileReader();
                r.onload = e => {
                    document.getElementById('avatar-img').src = e.target.result;
                    localStorage.setItem('m-av', e.target.result);
                };
                r.readAsDataURL(f);
            }
        }

        function startTime() {
            const n = new Date();
            document.getElementById('time').innerText = n.getHours().toString().padStart(2,'0') + ":" + n.getMinutes().toString().padStart(2,'0');
            setTimeout(startTime, 1000);
        }
    </script>
</body>
</html>
